<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Network mixing matrix — mixingm • netseg</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Network mixing matrix — mixingm" />
<meta property="og:description" content="Creating network mixing matrices (mixingm()) and data frames (mixingdf())." />
<meta property="og:image" content="/logo.png" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">netseg</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/netseg.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/mbojan/netseg/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Network mixing matrix</h1>
    <small class="dont-index">Source: <a href='https://github.com/mbojan/netseg/blob/master/R/mixingm.R'><code>R/mixingm.R</code></a></small>
    <div class="hidden name"><code>mixingm.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Creating network mixing matrices (<code>mixingm()</code>) and data frames (<code>mixingdf()</code>).</p>
    </div>

    <pre class="usage"><span class='fu'>mixingm</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for igraph</span>
<span class='fu'>mixingm</span><span class='op'>(</span>
  <span class='va'>object</span>,
  <span class='va'>rattr</span>,
  cattr <span class='op'>=</span> <span class='va'>rattr</span>,
  full <span class='op'>=</span> <span class='cn'>FALSE</span>,
  directed <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/pkg/igraph/man/is_directed.html'>is.directed</a></span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span>,
  loops <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/any.html'>any</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/which_multiple.html'>is.loop</a></span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span><span class='op'>)</span>,
  <span class='va'>...</span>
<span class='op'>)</span>

<span class='fu'>mixingdf</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for table</span>
<span class='fu'>mixingdf</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for igraph</span>
<span class='fu'>mixingdf</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>R object, see Details for available methods</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments passed to/from other methods</p></td>
    </tr>
    <tr>
      <th>rattr</th>
      <td><p>name of the vertex attribute or an attribute itself as a vector.
If <code>cattr</code> is not <code>NULL</code>, <code>rattr</code> is used for rows of the resulting mixing
matrix.</p></td>
    </tr>
    <tr>
      <th>cattr</th>
      <td><p>name of the vertex attribute or an attribute itself as a vector.
If supplied, used for columns in the mixing matrix.</p></td>
    </tr>
    <tr>
      <th>full</th>
      <td><p>logical, whether two- or three-dimensional mixing matrix should
be returned.</p></td>
    </tr>
    <tr>
      <th>directed</th>
      <td><p>logical, whether the network is directed. By default,
directedness of the network is determined with <code><a href='https://rdrr.io/pkg/igraph/man/is_directed.html'>igraph::is_directed()</a></code>.</p></td>
    </tr>
    <tr>
      <th>loops</th>
      <td><p>logical, whether loops are allowed. By default it is <code>TRUE</code>
whenever there is at least one loop in <code>object</code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Function <code>mixingm()</code>, depending on <code>full</code> argument, a two- or
three-dimensional array crossclassifying connected or all dyads in
<code>object</code>. For undirected network and if <code>foldit</code> is <code>TRUE</code> (default), the
matrix is folded onto the upper triangle (entries in lower triangle are 0).</p>
<p>Function <code>mixingdf()</code> returns non-zero entries of a mixing matrix (as
returned by <code>mixingm()</code>), but organized in a data frame with columns:</p><ul>
<li><p><code>ego</code>, <code>alter</code> -- group membership of ego an alter</p></li>
<li><p><code>tie</code> -- present only if <code>full=TRUE</code>, with <code>TRUE</code> or <code>FALSE</code> for connected
and disconnected dyads respectively</p></li>
<li><p><code>n</code> -- counts</p></li>
</ul>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Network mixing matrix is, traditionally, a two-dimensional
cross-classification of edges depending on the values of a specified vertex
attribute for tie sender and tie receiver. It is an important tool
for assessing network homophily or segregation.</p>
<p>Let \(G\) be the number of distinct values of the vertex attribute in
question.  We may say that we have \(G\) mutually exclusive groups in the
network.  The mixing matrix is a \(G \times G\) matrix such that
\(m_{ij}\) is the number of ties send by vertices in group \(i\)
to vertices in group \(j\). The diagonal of that matrix is of special
interest as, say, \(m_{ii}\) is the number of ties <em>within</em>
group \(i\).</p>
<p>A full mixing matrix is a three-dimensional array that cross-classifies
<em>all</em> network <em>dyads</em> depending on:</p><ol>
<li><p>the value of the vertex attribute for tie sender</p></li>
<li><p>the value of the vertex attribute for tie receiver</p></li>
<li><p>the status of the dyad, i.e. whether it is connected or not</p></li>
</ol>

<p>The two-dimensional version is a so-called "contact layer"
of the three-dimensional version.</p>
<p>If <code>object</code> is of class "igraph," mixing matrix is created for the
network in <code>object</code> based on vertex attributes supplied in arguments
<code>rattr</code> and optionally <code>cattr</code>.</p>
<p>If only <code>rattr</code> is specified (or, equivalently, <code>rattr</code> and <code>cattr</code> are
identical), the result will be a mixing matrix \(G \times G\) if <code>full</code>
is <code>FALSE</code> or \(G \times G \times 2\) if <code>full</code> is <code>TRUE</code>. Where
\(G\) is the number of categories of vertex attribute specified by
<code>rattr</code>.</p>
<p>If <code>rattr</code> and <code>cattr</code> can be used to specify different vertex attributes
for tie sender and tie receiver.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span><span class='op'>(</span><span class='st'>"igraph"</span>, quietly <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># some directed network</span>
  <span class='va'>net</span> <span class='op'>&lt;-</span> <span class='fu'>igraph</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/make_graph.html'>make_graph</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>2</span>, <span class='fl'>1</span>,<span class='fl'>3</span>, <span class='fl'>2</span>,<span class='fl'>3</span>,  <span class='fl'>4</span>,<span class='fl'>5</span>,  <span class='fl'>1</span>,<span class='fl'>4</span>, <span class='fl'>1</span>,<span class='fl'>5</span>, <span class='fl'>4</span>,<span class='fl'>2</span>, <span class='fl'>5</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
  <span class='fu'>igraph</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/V.html'>V</a></span><span class='op'>(</span><span class='va'>net</span><span class='op'>)</span><span class='op'>$</span><span class='va'>type</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>,<span class='fl'>1</span>,<span class='fl'>1</span>, <span class='fl'>2</span>,<span class='fl'>2</span><span class='op'>)</span>
  <span class='fu'>mixingm</span><span class='op'>(</span><span class='va'>net</span>, <span class='st'>"type"</span><span class='op'>)</span>
  <span class='fu'>mixingm</span><span class='op'>(</span><span class='va'>net</span>, <span class='st'>"type"</span>, full<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
  <span class='co'># as undirected</span>
  <span class='fu'>mixingm</span><span class='op'>(</span> <span class='fu'>igraph</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/igraph/man/as.directed.html'>as.undirected</a></span><span class='op'>(</span><span class='va'>net</span><span class='op'>)</span>, <span class='st'>"type"</span><span class='op'>)</span>
  <span class='fu'>mixingm</span><span class='op'>(</span><span class='va'>net</span>, <span class='st'>"type"</span><span class='op'>)</span>
  <span class='fu'>mixingm</span><span class='op'>(</span><span class='va'>net</span>, <span class='st'>"type"</span>, full<span class='op'>=</span><span class='cn'>TRUE</span><span class='op'>)</span>
<span class='op'>}</span>
</div><div class='output co'>#&gt; , , tie = FALSE
#&gt; 
#&gt;    alter
#&gt; ego 1 2
#&gt;   1 3 4
#&gt;   2 4 1
#&gt; 
#&gt; , , tie = TRUE
#&gt; 
#&gt;    alter
#&gt; ego 1 2
#&gt;   1 3 2
#&gt;   2 2 1
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michal Bojanowski.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


